{% extends "base.html" %}

{% block title %}文檔 - HiveMind{% endblock %}

{% block content %}
<div class="py-20 px-4">
    <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
            <h1 class="text-4xl font-bold mb-6 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                開發者文檔
            </h1>
            <p class="text-xl text-gray-400">
                學習如何使用 HiveMind 分布式運算平台
            </p>
        </div>
        
        <div class="grid lg:grid-cols-4 gap-8">
            <!-- 側邊導航 -->
            <div class="lg:col-span-1">
                <div class="bg-white/5 rounded-xl p-6 sticky top-8">
                    <h3 class="font-bold mb-4">文檔導航</h3>
                    <ul class="space-y-2">
                        <li><a href="#quick-start" class="text-purple-400 hover:text-purple-300">快速開始</a></li>
                        <li><a href="#api-reference" class="text-purple-400 hover:text-purple-300">API 參考</a></li>
                        <li><a href="#node-setup" class="text-purple-400 hover:text-purple-300">節點設置</a></li>
                        <li><a href="#task-development" class="text-purple-400 hover:text-purple-300">任務開發</a></li>
                        <li><a href="#vpn-config" class="text-purple-400 hover:text-purple-300">VPN 配置</a></li>
                        <li><a href="#troubleshooting" class="text-purple-400 hover:text-purple-300">故障排除</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- 主要內容 -->
            <div class="lg:col-span-3 space-y-12">
                <!-- 快速開始 -->
                <section id="quick-start" class="bg-white/5 rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-purple-400">快速開始</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">1. 註冊帳戶</h3>
                            <p class="text-gray-300 mb-3">
                                首先需要在 HiveMind 平台註冊一個帳戶。前往 <a href="/register" class="text-purple-400">註冊頁面</a> 創建您的帳戶。
                            </p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">2. 下載客戶端</h3>
                            <p class="text-gray-300 mb-3">
                                根據您的需求下載對應的客戶端：
                            </p>
                            <ul class="list-disc list-inside text-gray-300 space-y-1 ml-4">
                                <li>節點客戶端：貢獻您的運算資源</li>
                                <li>任務客戶端：提交運算任務</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">3. 設置 VPN</h3>
                            <p class="text-gray-300 mb-3">
                                為了安全連接到 HiveMind 網路，您需要配置 VPN。登入後可在下載頁面獲取您的專屬配置檔案。
                            </p>
                        </div>
                    </div>
                </section>
                
                <!-- API 參考 -->
                <section id="api-reference" class="bg-white/5 rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-blue-400">API 參考</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">認證</h3>
                            <div class="bg-gray-800 rounded-lg p-4 mb-3">
                                <code class="text-green-400">POST /api/login</code>
                            </div>
                            <p class="text-gray-300 mb-3">用戶登入，獲取訪問令牌。</p>
                            
                            <h4 class="font-medium mb-2">請求體：</h4>
                            <pre class="bg-gray-800 rounded-lg p-4 text-sm overflow-x-auto"><code>{
  "username": "your_username",
  "password": "your_password"
}</code></pre>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">餘額查詢</h3>
                            <div class="bg-gray-800 rounded-lg p-4 mb-3">
                                <code class="text-green-400">GET /api/balance</code>
                            </div>
                            <p class="text-gray-300 mb-3">查詢用戶帳戶餘額。需要認證。</p>
                            
                            <h4 class="font-medium mb-2">請求頭：</h4>
                            <pre class="bg-gray-800 rounded-lg p-4 text-sm overflow-x-auto"><code>Authorization: Bearer &lt;your_token&gt;</code></pre>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">轉帳</h3>
                            <div class="bg-gray-800 rounded-lg p-4 mb-3">
                                <code class="text-green-400">POST /api/transfer</code>
                            </div>
                            <p class="text-gray-300 mb-3">執行轉帳操作。需要認證。</p>
                            
                            <h4 class="font-medium mb-2">請求體：</h4>
                            <pre class="bg-gray-800 rounded-lg p-4 text-sm overflow-x-auto"><code>{
  "amount": 100.0,
  "type": "withdraw",
  "description": "提現到錢包"
}</code></pre>
                        </div>
                    </div>
                </section>
                
                <!-- 節點設置 -->
                <section id="node-setup" class="bg-white/5 rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-green-400">節點設置</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">系統要求</h3>
                            <ul class="list-disc list-inside text-gray-300 space-y-1 ml-4">
                                <li>穩定的網路連接</li>
                                <li>至少 4GB RAM</li>
                                <li>2GB 可用儲存空間</li>
                                <li>Docker 運行環境</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">配置步驟</h3>
                            <ol class="list-decimal list-inside text-gray-300 space-y-2 ml-4">
                                <li>下載並安裝節點客戶端</li>
                                <li>設置 VPN 連接</li>
                                <li>配置節點參數</li>
                                <li>啟動節點服務</li>
                                <li>驗證節點狀態</li>
                            </ol>
                        </div>
                    </div>
                </section>
                
                <!-- 任務開發 -->
                <section id="task-development" class="bg-white/5 rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-yellow-400">任務開發</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">gRPC 介面</h3>
                            <p class="text-gray-300 mb-3">
                                HiveMind 使用 gRPC 作為任務通信協議。您需要實現特定的服務介面來開發自定義任務。
                            </p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">任務容器化</h3>
                            <p class="text-gray-300 mb-3">
                                所有任務都在 Docker 容器中執行，確保環境一致性和安全性。
                            </p>
                            
                            <h4 class="font-medium mb-2">示例 Dockerfile：</h4>
                            <pre class="bg-gray-800 rounded-lg p-4 text-sm overflow-x-auto"><code>FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["python", "task.py"]</code></pre>
                        </div>
                    </div>
                </section>
                
                <!-- VPN 配置 -->
                <section id="vpn-config" class="bg-white/5 rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-indigo-400">VPN 配置</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">WireGuard 設置</h3>
                            <p class="text-gray-300 mb-3">
                                HiveMind 使用 WireGuard VPN 技術確保節點間的安全通信。
                            </p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">配置步驟</h3>
                            <ol class="list-decimal list-inside text-gray-300 space-y-2 ml-4">
                                <li>登入 HiveMind 平台</li>
                                <li>前往下載頁面</li>
                                <li>下載您的專屬 VPN 配置檔案</li>
                                <li>在您的設備上安裝 WireGuard</li>
                                <li>導入配置檔案並啟動連接</li>
                            </ol>
                        </div>
                    </div>
                </section>
                
                <!-- 故障排除 -->
                <section id="troubleshooting" class="bg-white/5 rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-red-400">故障排除</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">常見問題</h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <h4 class="font-medium mb-2">連接失敗</h4>
                                    <p class="text-gray-300 text-sm">
                                        檢查網路連接和防火牆設置，確保 VPN 配置正確。
                                    </p>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-2">任務執行失敗</h4>
                                    <p class="text-gray-300 text-sm">
                                        檢查 Docker 環境和任務代碼，查看節點日誌獲取詳細錯誤資訊。
                                    </p>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-2">餘額異常</h4>
                                    <p class="text-gray-300 text-sm">
                                        聯繫客服或查看交易記錄，確認所有操作都已正確執行。
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3">獲取幫助</h3>
                            <p class="text-gray-300 mb-3">
                                如果問題仍然存在，可以通過以下方式獲取幫助：
                            </p>
                            <ul class="list-disc list-inside text-gray-300 space-y-1 ml-4">
                                <li>加入我們的 <a href="https://discord.gg/hivemind" class="text-purple-400">Discord 社群</a></li>
                                <li>在 <a href="https://github.com/hivemind-platform" class="text-purple-400">GitHub</a> 提交 Issue</li>
                                <li>發送郵件至 support@hivemind.com</li>
                            </ul>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// 平滑滾動到錨點
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>
{% endblock %}
